<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Factory of the Moving Pictures</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Oswald&display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <h1>🎥 Το Εργοστάσιο των Κινούμενων Εικόνων</h1>
    <p class="subtitle">Εξερευνήστε την τέχνη και την επιστήμη του κινηματογράφου μέσα από διαδραστικά παιχνίδια</p>
  </header>

  <main>
    <!-- HISTORY -->
    <section class="category history">
      <h2>🎞️ Ιστορία</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/history1.png" alt="Το Μουσείο" onclick="openGame('history/Museum/index.html', this)">
          <span>Επισκέπτομαι το Μουσείο</span>
        </div>
        <div class="game">
          <img src="images/history2.png" alt="Χρονολογική Σειρά" onclick="openGame('history/ChronologyGame/index.html', this)">
          <span>Παίζω με τη Μηχανή του Χρόνου</span>
        </div>
      </div>
    <div class="iframe-zone"></div>
    </section>

    <!-- TECHNICAL -->
    <section class="category technical">
      <h2>⚙️ Τεχνική</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/technical1.png" alt="Δημιουργώ Μαγικά" onclick="openGame('technical/CreateMagic/index.html', this)">
          <span>Δημιουργώ Μαγικά</span>
        </div>
        <div class="game">
          <img src="images/technical2.png" alt="Γράφω με φως" onclick="openGame('technical/PlayingWithLight/index.html', this)">
          <span>Γράφω με φως</span>
        </div>
        <div class="game">
          <img src="images/technical3.png" alt="Στούντιο" onclick="openGame('technical/MovieSet/index.html', this)">
          <span>Στούντιο</span>
        </div>
        <div class="game">
          <img src="images/technical4.png" alt="Βάζω τα πλάνα στη σειρά" onclick="openGame('technical/VideoMontage/index.html', this)">
          <span>Βάζω τα πλάνα στη σειρά</span>
        </div>
        <div class="game">
          <img src="images/technical5.png" alt="Διαλέγω τους ήχους" onclick="openGame('technical/SoundDesign/index.html', this)">
          <span>Διαλέγω τους ήχους</span>
        </div>
      </div>
      <div class="iframe-zone"></div>
    </section>

    <!-- PRODUCTION -->
    <section class="category production">
      <h2>🎬 Παραγωγή</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/production1.png" alt="Οργανώνω τη δημιουργία μιας ταινίας" onclick="openGame('technical/OrganizeMovie/index.html', this)">
          <span>Οργανώνω τη δημιουργία μιας ταινίας</span>
        </div>
        <div class="game">
          <img src="images/production2.png" alt="Βρίσκω τι κάνει" onclick="openGame('technical/FindProfessions/index.html', this)">
          <span>Βρίσκω τι κάνει</span>
        </div>
        <div class="game">
          <img src="images/production3.png" alt="Μαντεύω ποιος είναι" onclick="openGame('technical/GuessWho/index.html', this)">
          <span>Μαντεύω ποιος είναι</span>
        </div>
      </div>
    <div class="iframe-zone"></div>
    </section>

    <!-- DISTRIBUTION -->
    <section class="category distribution">
      <h2>🚚 Διανομή</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/distribution1.png" alt="Φτιάχνω την αφίσα μιας ταινίας" onclick="openGame('technical/CreatePoster/index.html', this)">
          <span>Φτιάχνω την αφίσα μιας ταινίας</span>
        </div>
      </div>
    <div class="iframe-zone"></div>
    </section>
  </main>

  <footer>
    <p>© 2025 The Factory of the Moving Pictures · An Interactive Film Education Project</p>
  </footer>

  <script>
  function openGame(gameUrl, clickedImg) {
    // Close any previously open iframes
    document.querySelectorAll('.iframe-zone').forEach(zone => zone.innerHTML = '');

    // Find the parent section of the clicked image
    const section = clickedImg.closest('section');
    const iframeZone = section.querySelector('.iframe-zone');

    // Create the iframe and close button
    const container = document.createElement('div');
    container.className = 'iframe-container';
    container.innerHTML = `
      <button class="close-btn" onclick="closeGame(this)">✖</button>
      <iframe src="${gameUrl}" loading="lazy"></iframe>
    `;

    iframeZone.appendChild(container);
    iframeZone.style.display = 'block';

    // Smooth scroll to bring it into view
    container.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }

  function closeGame(btn) {
    const container = btn.parentElement;
    const iframeZone = container.parentElement;
    iframeZone.innerHTML = '';
    iframeZone.style.display = 'none';
  }
</script>


</body>
</html>
