<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Factory of the Moving Pictures</title>
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Geologica:wght@600&family=LXGW+WenKai+TC&display=swap" rel="stylesheet">
</head>

<body>
  <header>
	<h1>
	  <img src="images/logo.png" alt="Factory Logo" class="logo">
	  Το Εργοστάσιο των Κινούμενων Εικόνων
	</h1>
    <p class="subtitle">Εξερευνήστε την τέχνη του κινηματογράφου μέσα από διαδραστικά παιχνίδια</p>
  </header>
  
	<div class="floating-elements"></div>

  <main>
  
  <section class="overview">
  <h4>Το Εργοστάσιο είναι χωρισμένο σε 4 Ενότητες</h4>
  <p>Κάθε ενότητα αποκαλύπτει μια διαφορετική πλευρά της κινηματογραφικής τέχνης.</p>

  <div class="section-row">

    <div class="section-card">
      <img src="images/icon_history.png" alt="Ιστορία" onclick="scrollToSection('history')">
      <h3>Ιστορία</h3>
      <button onclick="toggleInfo('info-history')">Περισσότερα</button>
      <div id="info-history" class="info-text">
        Ανακαλύψτε τις πρώτες κινούμενες εικόνες και το ταξίδι που οδήγησε στην εφεύρεση της κινηματογραφικής μηχανής.
      </div>
    </div>

    <div class="section-card">
      <img src="images/icon_technical.png" alt="Τεχνική" onclick="scrollToSection('technical')">
      <h3>Τεχνική</h3>
      <button onclick="toggleInfo('info-technical')">Περισσότερα</button>
      <div id="info-technical" class="info-text">
        Ανακάλυψτε πώς ο φωτισμός, οι κάμερες και ο ήχος ζωντανεύουν την εικόνα.
      </div>
    </div>

    <div class="section-card">
      <img src="images/icon_production.png" alt="Παραγωγή" onclick="scrollToSection('production')">
      <h3>Παραγωγή</h3>
      <button onclick="toggleInfo('info-production')">Περισσότερα</button>
      <div id="info-production" class="info-text">
        Από το σενάριο και τη σκηνοθεσία μέχρι τα σκηνικά και τα κοστούμια.
      </div>
    </div>

    <div class="section-card">
      <img src="images/icon_distribution.png" alt="Διανομή" onclick="scrollToSection('distribution')">
      <h3>Διανομή</h3>
      <button onclick="toggleInfo('info-distribution')">Περισσότερα</button>
      <div id="info-distribution" class="info-text">
        Μάθετε πώς οι ταινίες φτάνουν τελικά στους θεατές και στη μεγάλη (ή μικρή) οθόνη.
      </div>
    </div>

  </div>
</section>

    <!-- HISTORY -->
    <section id="history" class="category history">
      <h2>Ιστορία</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/history1.png" alt="Το Μουσείο" onclick="openGame('history/Museum/index.html', this)">
          <span>Επισκέπτομαι το Μουσείο</span>
        </div>
        <div class="game">
          <img src="images/history2.png" alt="Χρονολογική Σειρά" onclick="openGame('history/ChronologyGame/index.html', this)">
          <span>Παίζω με τη Μηχανή του Χρόνου</span>
        </div>
      </div>
    <div class="iframe-zone"></div>
    </section>

    <!-- TECHNICAL -->
    <section id="technical" class="category technical">
      <h2>Τεχνική</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/technical1.png" alt="Δημιουργώ Μαγικά" onclick="openGame('technical/CreateMagic/index.html', this)">
          <span>Δημιουργώ Μαγικά</span>
        </div>
        <div class="game">
          <img src="images/technical2.png" alt="Γράφω με φως" onclick="openGame('technical/PlayingWithLight/index.html', this)">
          <span>Γράφω με φως</span>
        </div>
        <div class="game">
          <img src="images/technical3.png" alt="Στούντιο" onclick="openGame('technical/MovieSet/index.html', this)">
          <span>Στούντιο</span>
        </div>
        <div class="game">
          <img src="images/technical4.png" alt="Βάζω τα πλάνα στη σειρά" onclick="openGame('technical/VideoMontage/index.html', this)">
          <span>Βάζω τα πλάνα στη σειρά</span>
        </div>
        <div class="game">
          <img src="images/technical5.png" alt="Διαλέγω τους ήχους" onclick="openGame('technical/SoundDesign/index.html', this)">
          <span>Διαλέγω τους ήχους</span>
        </div>
      </div>
      <div class="iframe-zone"></div>
    </section>

    <!-- PRODUCTION -->
    <section id="production" class="category production">
      <h2>Παραγωγή</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/production1.png" alt="Οργανώνω τη δημιουργία μιας ταινίας" onclick="openGame('production/OrganizeMovie/index.html', this)">
          <span>Οργανώνω τη δημιουργία μιας ταινίας</span>
        </div>
        <div class="game">
          <img src="images/production2.png" alt="Βρίσκω τι κάνει" onclick="openGame('production/FindProfessions/index.html', this)">
          <span>Βρίσκω τι κάνει</span>
        </div>
        <div class="game">
          <img src="images/production3.png" alt="Μαντεύω ποιος είναι" onclick="openGame('production/GuessWho/index.html', this)">
          <span>Μαντεύω ποιος είναι</span>
        </div>
      </div>
    <div class="iframe-zone"></div>
    </section>

    <!-- DISTRIBUTION -->
    <section id="distribution" class="category distribution">
      <h2>Διανομή</h2>
      <div class="gallery">
        <div class="game">
          <img src="images/distribution1.png" alt="Φτιάχνω την αφίσα μιας ταινίας" onclick="openGame('distribution/CreatePoster/index.html', this)">
          <span>Φτιάχνω την αφίσα μιας ταινίας</span>
        </div>
      </div>
    <div class="iframe-zone"></div>
    </section>
  </main>

  <footer>
    <p>© 2025 The Factory of Moving Pictures · An Interactive Film Education Project</p>
  </footer>

  <script>
  function openGame(gameUrl, clickedImg) {
    // Close any previously open iframes
    document.querySelectorAll('.iframe-zone').forEach(zone => zone.innerHTML = '');

    // Find the parent section of the clicked image
    const section = clickedImg.closest('section');
    const iframeZone = section.querySelector('.iframe-zone');

    // Create the iframe and close button
    const container = document.createElement('div');
    container.className = 'iframe-container';
    container.innerHTML = `
      <button class="close-btn" onclick="closeGame(this)">✖</button>
      <iframe src="${gameUrl}" loading="lazy"></iframe>
    `;

    iframeZone.appendChild(container);
    iframeZone.style.display = 'block';

    // Smooth scroll to bring it into view
    container.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }

  function closeGame(btn) {
    const container = btn.parentElement;
    const iframeZone = container.parentElement;
    iframeZone.innerHTML = '';
    iframeZone.style.display = 'none';
  }
  
  function toggleInfo(id) {
  const el = document.getElementById(id);
  el.classList.toggle('show');
}

function scrollToSection(id) {
    document.getElementById(id).scrollIntoView({
      behavior: 'smooth'
    });
  }

document.addEventListener("DOMContentLoaded", () => {
  const container = document.querySelector(".floating-elements");
  const images = [
    "images/filmstrip.png",
    "images/camera.png",
    "images/clapperboard.png",
    "images/megaphone.png",
    "images/acting.png"
  ];

  const numElements = 40;
  const cols = 8; // roughly 10 columns
  const rows = Math.ceil(numElements / cols);

	let seed = 1;
	function random() {
    seed = (seed * 16807) % 2147483647;
    return (seed - 1) / 2147483646;
	}

  for (let i = 0; i < numElements; i++) {
    const img = document.createElement("img");
    img.src = images[Math.floor(random() * images.length)];
    img.classList.add("float");

    // calculate grid position
    const col = i % cols;
    const row = Math.floor(i / cols);

    // base position based on grid
    const baseX = (col + 0.5) * (100 / cols); // %
    const baseY = (row + 0.5) * (100 / rows); // %

    // slight random offset so it doesn’t look too rigid
    const offsetX = (random() - 0.5) * 8; // ±8%
    const offsetY = (random() - 0.5) * 8;

    img.style.left = `calc(${baseX-2}% + ${offsetX}%)`;
    img.style.top = `calc(${baseY}% + ${offsetY}%)`;
    img.style.width = `${40 + random() * 40}px`;
    img.style.animationDelay = `${random() * 8}s`;

    container.appendChild(img);
  }
});
</script>



</body>
</html>
